<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="AI 医学问答助手 - 专业的医学咨询助手">
    <title>AI 医学问答助手</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🏥</text></svg>">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <!-- 左侧聊天区域 -->
        <div class="chat-section">
            <div class="header">
                <h1>🏥 AI 医学问答助手</h1>
                <p>💊 专业的医学咨询助手，基于多源知识检索</p>
            </div>

            <div class="chat-container" id="chatContainer">
                <div class="empty-state" id="emptyState">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    <p>💡 输入您的医学问题，我会通过多源检索为您提供专业解答</p>
                </div>
            </div>

            <div class="input-container">
                <div class="examples">
                    <button class="example-btn" onclick="setExample('感冒了有什么症状？')">感冒了有什么症状？</button>
                    <button class="example-btn" onclick="setExample('高血压患者饮食要注意什么？')">高血压患者饮食要注意什么？</button>
                    <button class="example-btn" onclick="setExample('肩痛应该怎么治疗？')">肩痛应该怎么治疗？</button>
                        <button class="example-btn" onclick="setExample('我一直咳嗽两三周了，应该怎么治疗？')">我一直咳嗽两三周了，应该怎么治疗？</button>
                </div>
                <div class="input-wrapper">
                    <input 
                        type="text" 
                        class="input-box" 
                        id="messageInput" 
                        placeholder="例如：感冒了有什么症状？应该怎么治疗？"
                        onkeypress="handleKeyPress(event)"
                    >
                    <button class="btn btn-primary" id="sendBtn" onclick="sendMessage()">发送</button>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary" onclick="clearChat()">清空对话</button>
                </div>
            </div>

            <div class="footer">
                ⚠️ 免责声明：本助手提供的信息仅供参考，不能替代专业医疗建议
            </div>
        </div>

        <!-- 右侧对话历史区域 -->
        <div class="history-section">
            <div class="history-header">
                <h2>对话历史</h2>
                <div class="history-actions">
                    <button class="history-btn" onclick="createNewSession()" title="创建新会话">➕</button>
                    <button class="history-btn" onclick="exportHistory()" title="导出历史">📥</button>
                    <button class="history-btn" onclick="clearHistory()" title="清空历史">🗑️</button>
                </div>
            </div>
            <div class="history-search">
                <input 
                    type="text" 
                    class="history-search-input" 
                    id="historySearchInput" 
                    placeholder="搜索对话历史..."
                    oninput="filterHistory()"
                >
            </div>
            <div class="history-container" id="historyContainer">
                <div class="history-empty" id="historyEmpty">
                    <div class="history-empty-icon">💬</div>
                    <div class="history-empty-text">暂无对话历史</div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/main.js"></script>
</body>
</html>